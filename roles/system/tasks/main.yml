- include: pacman.yml
- include: sound.yml
- include: networkmanager.yml
- include: powermanagement.yml
- include: docker.yml
- include: misc.yml

- name: install system utilities
  package:
    name: "{{ item }}"
    state: present
  with_items:
  - dfc
  - python-virtualenv
  - python2-virtualenv
  - htop
  - httpie
  - intel-ucode
  - iotop
  - openssh
  - yaourt
  - vim
  - wget
  - zip
  - unzip
  - zsh
  become: yes

- name: user group
  group:
    name: "{{ item }}"
  with_items:
  - "{{ username }}"
  - wheel
  become: yes

- name: user profile
  user:
    name: "{{ username }}"
    uid: 1000
    shell: /bin/zsh
    group: "{{ username }}"
    groups: users,network,wheel,video,audio,power,docker
  become: yes

- name: configure sudoers
  template:
    src: sudoers
    dest: /etc/sudoers
    mode: 0440
  become: yes
